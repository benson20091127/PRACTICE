<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>登入 - 修仙文字遊戲</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@700&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body class="bg-light">
<!-- 古風雲霧SVG裝飾 -->
<svg class="cloud-svg" viewBox="0 0 180 120"><path fill="#bfa76f" d="M20,60 Q60,10 120,40 Q170,80 100,100 Q40,120 20,60 Z"/></svg>
<svg class="cloud-svg2" viewBox="0 0 140 90"><path fill="#bfa76f" d="M10,40 Q40,10 100,30 Q130,60 70,80 Q20,90 10,40 Z"/></svg>
<div class="container mt-5" style="max-width:420px;">
    <h2 class="mb-4 text-center">會員登入</h2>
    <form id="loginForm">
        <div class="mb-3">
            <label for="username" class="form-label">帳號</label>
            <input type="text" class="form-control" id="username" name="username" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">密碼</label>
            <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">登入</button>
    </form>
    <div id="msg" class="mt-3 text-center"></div>
    <a href="register.html" class="mt-3 d-block text-center">還沒註冊？前往註冊</a>
</div>
<script>
document.getElementById('loginForm').addEventListener('submit', function(e){
    e.preventDefault();
    const formData = new FormData(this);
    fetch('login.php', {
        method: 'POST',
        body: formData
    })
    .then(res => res.json())
    .then(data => {
        const msg = document.getElementById('msg');
        if(data.status === 1){
            msg.innerHTML = '<span class="text-success">✅ 登入成功</span>';
            setTimeout(()=>location.href='shop.html', 1000);
        }else{
            msg.innerHTML = '<span class="text-danger">❌ ' + (data.message || '登入失敗') + '</span>';
        }
    })
    .catch(()=>{document.getElementById('msg').innerHTML='<span class="text-danger">❌ 伺服器錯誤</span>';});
});
</script>
</body>
</html>
